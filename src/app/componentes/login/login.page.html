<ion-content class="login-page fritos-theme" fullscreen="true" [scrollEvents]="true" scroll="true">
  <div class="center-wrapper">
    <div class="login-container fritos-card">
      <img src="https://jpwlvaprtxszeimmimlq.supabase.co/storage/v1/object/public/FritosHermanos/crispy2.png" alt="Logo" class="login-logo fritos-bounce" />

      <h2 class="login-subtitle fritos-logo">¡INICIA SESIÓN!</h2>

      <form [formGroup]="loginForm" (ngSubmit)="ingresar()">
        <ion-item>
          <ion-icon slot="start" name="mail-outline"></ion-icon>
          <ion-label position="floating">Correo electrónico</ion-label>
          <ion-input type="email" formControlName="correo"></ion-input>
        </ion-item>
        <div class="field-error" *ngIf="correoError">{{ correoError }}</div>

        <ion-item>
          <ion-icon slot="start" name="lock-closed-outline"></ion-icon>
          <ion-label position="floating">Contraseña</ion-label>
          <ion-input [type]="showPassword ? 'text' : 'password'" formControlName="contrasenia"></ion-input>
          <ion-button fill="clear" slot="end" size="small" (click)="showPassword = !showPassword" tabindex="-1">
            <ion-icon [name]="showPassword ? 'eye-off' : 'eye'"></ion-icon>
          </ion-button>
        </ion-item>
        <div class="field-error" *ngIf="contraseniaError">{{ contraseniaError }}</div>

        <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>

        <ion-button expand="block" type="submit" [disabled]="loginForm.invalid" color="fritos-red">
          INGRESAR
        </ion-button>

        <div class="divider">
          <span class="divider-text">O</span>
        </div>

        <ion-button expand="block" (click)="signInWithGoogle()" color="light" class="google-button">
          <ion-icon name="logo-google" slot="start"></ion-icon>
          Continuar con Google
        </ion-button>


        <div class="register-link">
          ¿No tenés cuenta? <a (click)="goToRegister()">Regístrate</a>
        </div>
      </form>
    </div>
  </div>

  <!-- Floating Action Button para accesos rápidos -->
  <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button color="fritos-red" aria-label="Accesos rápidos">
      <ion-icon name="flash"></ion-icon>
    </ion-fab-button>
    
    <ion-fab-list side="top">
      <ion-fab-button class="fab-with-label" color="primary" (click)="accesoRapido('cliente')">
        <span class="fab-label">Cliente</span>
      </ion-fab-button>
      <ion-fab-button class="fab-with-label" color="tertiary" (click)="accesoRapido('bartender')">
        <span class="fab-label">Bartender</span>
      </ion-fab-button>
      <ion-fab-button class="fab-with-label" color="tertiary" (click)="accesoRapido('cocinero')">
        <span class="fab-label">Cocinero</span>
      </ion-fab-button>
      <ion-fab-button class="fab-with-label" color="tertiary" (click)="accesoRapido('mozo')">
        <span class="fab-label">Mozo</span>
      </ion-fab-button>
      <ion-fab-button class="fab-with-label" color="tertiary" (click)="accesoRapido('maitre')">
        <span class="fab-label">Maître</span>
      </ion-fab-button>
      <ion-fab-button class="fab-with-label" color="success" (click)="accesoRapido('dueno')">
        <span class="fab-label">Dueño</span>
      </ion-fab-button>
      <ion-fab-button class="fab-with-label" color="warning" (click)="accesoRapido('supervisor')">
        <span class="fab-label">Supervisor</span>
      </ion-fab-button>
    </ion-fab-list>
  </ion-fab>
</ion-content>
